<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz ARM 2B - CFARM 2025-2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Karla:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1565c0;
            --primary-dark: #003c8f;
            --primary-light: #5e92f3;
            --secondary: #00838f;
            --success: #2e7d32;
            --warning: #f57c00;
            --danger: #c62828;
            --bg-dark: #0a1929;
            --bg-medium: #1a2f42;
            --bg-light: #2a3f52;
            --text-light: #e3f2fd;
            --text-muted: #90caf9;
            --border: #1976d2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Karla', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-medium) 50%, #004d40 100%);
            color: var(--text-light);
            min-height: 100vh;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(211, 47, 47, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(13, 71, 161, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 4rem;
            letter-spacing: 4px;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 40px rgba(211, 47, 47, 0.3);
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-muted);
            font-weight: 300;
            letter-spacing: 2px;
        }

        .theme-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .theme-card {
            background: linear-gradient(145deg, var(--bg-light) 0%, var(--bg-medium) 100%);
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 1.8rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease-out backwards;
        }

        .theme-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .theme-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 12px 40px rgba(211, 47, 47, 0.3);
        }

        .theme-card:hover::before {
            opacity: 0.1;
        }

        .theme-card-content {
            position: relative;
            z-index: 1;
        }

        .theme-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .theme-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 2px;
            margin-bottom: 0.5rem;
            color: var(--primary-light);
        }

        .theme-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 300;
        }

        .theme-count {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            box-shadow: 0 4px 12px rgba(211, 47, 47, 0.4);
        }

        .quiz-container {
            background: linear-gradient(145deg, var(--bg-light) 0%, var(--bg-medium) 100%);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(63, 81, 181, 0.3);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--border);
        }

        .quiz-theme {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            letter-spacing: 2px;
            color: var(--primary-light);
        }

        .quiz-progress {
            background: var(--bg-dark);
            border-radius: 30px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            font-size: 1rem;
            border: 1px solid var(--border);
        }

        .question-card {
            margin-bottom: 2rem;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 2rem;
            line-height: 1.6;
            color: var(--text-light);
        }

        .answers-grid {
            display: grid;
            gap: 1rem;
        }

        .answer-btn {
            background: var(--bg-dark);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.2rem 1.5rem;
            font-size: 1rem;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: 'Karla', sans-serif;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .answer-btn:hover:not(:disabled) {
            transform: translateX(5px);
            border-color: var(--primary-light);
            box-shadow: 0 4px 20px rgba(211, 47, 47, 0.3);
        }

        .answer-btn:hover:not(:disabled)::before {
            left: 100%;
        }

        .answer-btn.correct {
            background: linear-gradient(135deg, var(--success) 0%, #1b5e20 100%);
            border-color: var(--success);
            animation: correctPulse 0.5s ease;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        .answer-btn.incorrect {
            background: linear-gradient(135deg, var(--danger) 0%, #b71c1c 100%);
            border-color: var(--danger);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Karla', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(211, 47, 47, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(211, 47, 47, 0.6);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary) 0%, #01579b 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(13, 71, 161, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(13, 71, 161, 0.6);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary-light);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .results-container {
            text-align: center;
        }

        .results-score {
            font-size: 6rem;
            font-family: 'Bebas Neue', sans-serif;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 2rem 0;
            animation: scoreAppear 0.8s ease-out;
        }

        @keyframes scoreAppear {
            from {
                opacity: 0;
                transform: scale(0.5) rotate(-10deg);
            }
            to {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .results-message {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .results-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            animation: statAppear 0.5s ease-out backwards;
        }

        @keyframes statAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 2px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
        }

        .stat-card.correct .stat-value {
            color: var(--success);
        }

        .stat-card.incorrect .stat-value {
            color: var(--danger);
        }

        .stat-card.total .stat-value {
            color: var(--primary-light);
        }

        .hidden {
            display: none;
        }

        .explanation {
            background: var(--bg-dark);
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .explanation-title {
            font-weight: 700;
            color: var(--primary-light);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .explanation-text {
            color: var(--text-muted);
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 2.5rem;
            }

            .quiz-container {
                padding: 1.5rem;
            }

            .theme-selector {
                grid-template-columns: 1fr;
            }

            .results-score {
                font-size: 4rem;
            }

            .quiz-header {
                flex-direction: column;
                gap: 1rem;
            }
        }

        .loading {
            text-align: center;
            padding: 3rem;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--bg-light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .back-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 1rem;
            padding: 0.5rem 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .back-btn:hover {
            color: var(--primary-light);
            transform: translateX(-5px);
        }

        .details-section {
            margin-top: 3rem;
            animation: fadeIn 0.5s ease-out;
        }

        .question-review {
            background: var(--bg-dark);
            border-left: 4px solid var(--primary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            animation: slideIn 0.4s ease-out;
        }

        .question-review.correct-review {
            border-left-color: var(--success);
        }

        .question-review.incorrect-review {
            border-left-color: var(--danger);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .review-number {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary-light);
        }

        .review-status {
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .correct-review .review-status {
            background: rgba(46, 125, 50, 0.2);
            color: var(--success);
        }

        .incorrect-review .review-status {
            background: rgba(198, 40, 40, 0.2);
            color: var(--danger);
        }

        .review-question {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        .review-answer {
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
        }

        .user-answer {
            background: rgba(198, 40, 40, 0.15);
            border: 1px solid rgba(198, 40, 40, 0.3);
        }

        .correct-answer {
            background: rgba(46, 125, 50, 0.15);
            border: 1px solid rgba(46, 125, 50, 0.3);
        }

        .review-explanation {
            background: var(--bg-medium);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-size: 0.95rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .review-explanation strong {
            color: var(--primary-light);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>QUIZ ARM 2B</h1>
            <div class="subtitle">CFARM 2025-2026 ‚Ä¢ Th√©matiques Sp√©cialis√©es</div>
        </header>

        <div id="themeSelection" class="theme-selector">
            <!-- Les th√®mes seront inject√©s ici -->
        </div>

        <div id="quizContainer" class="hidden">
            <!-- Le quiz sera affich√© ici -->
        </div>
    </div>

    <script>
        // Base de donn√©es des questions par th√®me
        const quizData = {
            aide_mer: {
                title: "Aide M√©dicale en Mer",
                icon: "‚öì",
                description: "CROSS, CCMM, SCMM - Les 3 piliers du secours maritime",
                questions: [
                    {
                        question: "Quels sont les 3 piliers essentiels du secours en mer ?",
                        answers: ["SAMU, Pompiers, Police", "CROSS, CCMM et SCMM", "Marine, Pompiers, SAMU", "SDIS, SMUR, Gendarmerie"],
                        correct: 1,
                        explanation: "Les 3 PILIERS ESSENTIELS du secours en mer : CROSS (vecteur), CCMM (t√©l√©consultation) et SCMM (coordination m√©dicale)."
                    },
                    {
                        question: "Que signifie 'Pieds mouill√©s = Pieds secs' ?",
                        answers: ["Il faut se mouiller pour sauver", "Une intervention commence en mer et se termine √† terre", "Les secouristes restent au sec", "Attendre que la victime soit √† terre"],
                        correct: 1,
                        explanation: "Principe fondamental : intervention commence en mer et se termine √† terre (continuit√© de prise en charge)."
                    },
                    {
                        question: "O√π est bas√© le CCMM ?",
                        answers: ["Marseille", "SAMU de Toulouse", "Paris", "Toulon"],
                        correct: 1,
                        explanation: "CCMM bas√© au SAMU de Toulouse, service de t√©l√©m√©decine 24h/24, 7j/7 pour navires en mer."
                    },
                    {
                        question: "Que signifie TMAS ?",
                        answers: ["Transport Maritime Assistance Secours", "Telemedical Assistance Service", "T√©l√©m√©decine Maritime Assistance SAMU", "Transport M√©dical A√©rien Secours"],
                        correct: 1,
                        explanation: "TMAS = Telemedical Assistance Service, d√©signation officielle du CCMM pour la France."
                    },
                    {
                        question: "Combien d'appels de t√©l√©consultations au CCMM en 2022 ?",
                        answers: ["2 817", "6 483", "10 000", "15 000"],
                        correct: 1,
                        explanation: "6 483 appels de t√©l√©consultations en 2022 pour 2 817 patients pris en charge."
                    },
                    {
                        question: "Quel pourcentage de soins √† bord apr√®s consultation CCMM ?",
                        answers: ["50%", "74%", "85%", "90%"],
                        correct: 1,
                        explanation: "74% soins √† bord, 14% d√©barquement, 6% √©vacuation sanitaire, 5% √©vacuation m√©dicalis√©e."
                    },
                    {
                        question: "Combien de SCMM en France m√©tropolitaine ?",
                        answers: ["3", "4", "5", "6"],
                        correct: 1,
                        explanation: "4 SCMM m√©tropole : Le Havre, Brest, Bayonne, Toulon + 2 outre-mer (R√©union, Martinique)."
                    },
                    {
                        question: "Quel est le SEUL SCMM de M√©diterran√©e ?",
                        answers: ["Marseille", "Toulon (83)", "Nice", "Montpellier"],
                        correct: 1,
                        explanation: "Toulon (83) = SEUL SCMM de M√©diterran√©e. Point crucial !"
                    },
                    {
                        question: "Le SCMM assure-t-il la t√©l√©consultation initiale ?",
                        answers: ["Oui, mission principale", "Non, c'est le r√¥le du CCMM", "Oui, mais seulement la nuit", "Oui, uniquement en urgence"],
                        correct: 1,
                        explanation: "NON ! SCMM n'assure PAS t√©l√©consultation initiale (r√¥le CCMM), il r√©gule APR√àS comme tout SAMU."
                    },
                    {
                        question: "Qui est le 'chef d'orchestre m√©dical maritime' ?",
                        answers: ["Le CCMM", "Le SCMM", "Le CROSS", "Le capitaine"],
                        correct: 1,
                        explanation: "SCMM = 'chef d'orchestre m√©dical maritime', coordonne toutes les √©vacuations m√©dicalis√©es."
                    },
                    {
                        question: "Quel est le SEUL SMUR Maritime de M√©diterran√©e ?",
                        answers: ["SAMU Marseille", "SAMU Toulon", "SAMU Nice", "SAMU Montpellier"],
                        correct: 1,
                        explanation: "SAMU TOULON = Seul SMUR Maritime de M√©diterran√©e, seule ressource comp√©tente secours en mer."
                    },
                    {
                        question: "Comment le SMUR Maritime transmet son bilan ?",
                        answers: ["Uniquement t√©l√©phone", "T√©l satellite, GSM ou VHF Marine", "Uniquement VHF", "Par mail"],
                        correct: 1,
                        explanation: "Transmission via T√©l√©phone satellite, GSM ou VHF Marine au SCMM."
                    },
                    {
                        question: "Que g√®re le CROSS ?",
                        answers: ["Urgences m√©dicales", "Moyens nautiques/a√©riens, d√©lais, DZ", "Seulement pollution", "Uniquement sauvetage"],
                        correct: 1,
                        explanation: "CROSS g√®re moyens nautiques/a√©riens, d√©finit d√©lais ralliement et DZ (Drop Zone terre/mer)."
                    },
                    {
                        question: "Si EvaMed n√©cessaire, qui participe √† la conf√©rence ?",
                        answers: ["CCMM et SMUR", "CROSS / CCMM / SCMM", "SAMU et Pompiers", "Police et CROSS"],
                        correct: 1,
                        explanation: "Conf√©rence √† 3 : CROSS / CCMM / SCMM pour prise en charge 'maritimo-terrestre'."
                    },
                    {
                        question: "Qui d√©signe l'√©quipe m√©dicale en secours mer ?",
                        answers: ["Le CROSS", "Le SCMM", "Le CCMM", "Le capitaine"],
                        correct: 1,
                        explanation: "SCMM d√©signe l'√©quipe m√©dicale. CROSS d√©signe le vecteur."
                    }
                ]
            },
            centre_antipoison: {
                title: "Centre Antipoison",
                icon: "‚ò†Ô∏è",
                description: "CAP Marseille - Intoxications et envenimations",
                questions: [
                    {
                        question: "Quelle est la zone de comp√©tence du CAP Marseille ?",
                        answers: ["PACA uniquement", "PACA, Corse, Oc√©an Indien", "Toute la France", "PACA et Occitanie"],
                        correct: 1,
                        explanation: "CAP Marseille couvre PACA, Corse et Oc√©an Indien."
                    },
                    {
                        question: "Quel est le num√©ro du CAP Marseille ?",
                        answers: ["04 91 75 25 24", "04 91 75 25 25", "04 91 75 25 26", "15"],
                        correct: 1,
                        explanation: "CAP Marseille : 04 91 75 25 25 (24h/24, 7j/7)"
                    },
                    {
                        question: "Qui est le chef de service du CAP Marseille ?",
                        answers: ["Dr Martin", "Pr. Nicolas SIMON", "Dr Dupont", "Pr. Laurent"],
                        correct: 1,
                        explanation: "Chef de service : Pr. Nicolas SIMON"
                    },
                    {
                        question: "Combien de dossiers/an au CAP Marseille (moyenne 10 ans) ?",
                        answers: ["10 000", "24 000", "40 000", "50 000"],
                        correct: 1,
                        explanation: "24 000 dossiers/an dont 95% avec exposition r√©elle."
                    },
                    {
                        question: "Quel pourcentage des expos√©s sont des enfants <10 ans ?",
                        answers: ["25%", "45%", "60%", "75%"],
                        correct: 1,
                        explanation: "45% des personnes expos√©es sont des enfants <10 ans."
                    },
                    {
                        question: "Quel pourcentage d'intoxications accidentelles ?",
                        answers: ["50%", "86%", "70%", "95%"],
                        correct: 1,
                        explanation: "86% intoxications accidentelles, 13% volontaires (dont 10% TS)."
                    },
                    {
                        question: "Quel est le taux de mortalit√© des expos√©s ?",
                        answers: ["0,1‚Ä∞", "1,1‚Ä∞", "5‚Ä∞", "10‚Ä∞"],
                        correct: 1,
                        explanation: "Taux de mortalit√© : 1,1‚Ä∞ des personnes expos√©es."
                    },
                    {
                        question: "Quelles sont les 3 missions principales du CAP ?",
                        answers: ["Urgence, Formation, Pr√©vention", "RTU, Toxicovigilance, Enseignement/Recherche/Pr√©vention", "Secours, Soins, Suivi", "Diagnostic, Traitement, Hospitalisation"],
                        correct: 1,
                        explanation: "1) RTU 24h/24, 2) Toxicovigilance, 3) Enseignement, Recherche et Pr√©vention."
                    },
                    {
                        question: "Que NE PAS faire avec des produits moussants ing√©r√©s ?",
                        answers: ["Rincer la bouche", "Donner √† boire et faire vomir", "Appeler le CAP", "Surveiller"],
                        correct: 1,
                        explanation: "Produits moussants : NE PAS donner √† boire, NE PAS faire vomir (risque pneumopathie d'inhalation)."
                    },
                    {
                        question: "Que faire si m√©lange Acide + Javel ?",
                        answers: ["Boire du lait", "A√©rer, sortir, vapeurs d'eau chaude", "Faire vomir", "Rien"],
                        correct: 1,
                        explanation: "M√©lange Acide + Javel ‚Üí Chlore. CAT : A√©rer, sortir, inhalation vapeurs d'eau chaude."
                    },
                    {
                        question: "Quel est le risque des piles boutons ?",
                        answers: ["Br√ªlure bouche", "Perforation ≈ìsophage", "Intoxication", "Rien"],
                        correct: 1,
                        explanation: "Piles boutons : risque perforation ≈ìsophage ‚Üí URGENCE."
                    },
                    {
                        question: "Quelle toxine dans les cigarettes/E-liquide ?",
                        answers: ["Arsenic", "NICOTINE", "Cyanure", "Plomb"],
                        correct: 1,
                        explanation: "NICOTINE ‚Üí troubles neurologiques, convulsions possibles."
                    },
                    {
                        question: "Quelle araign√©e cause le Latrodectisme ?",
                        answers: ["Tarentule", "Malmignatte (veuve noire)", "√âpeire", "T√©g√©naire"],
                        correct: 1,
                        explanation: "Malmignatte (veuve noire) ‚Üí Latrodectisme : douleurs, contractures, troubles neuro."
                    },
                    {
                        question: "Quelle araign√©e cause une n√©crose cutan√©e ?",
                        answers: ["Veuve noire", "Loxosceles (violoniste)", "Steatoda", "Tarentule"],
                        correct: 1,
                        explanation: "Loxosceles (violoniste) ‚Üí Loxoscelisme : n√©crose cutan√©e, syndrome grippal."
                    },
                    {
                        question: "Qu'est-ce que la CIGUATERA ?",
                        answers: ["Morsure serpent", "Intoxication poissons mers chaudes", "Piq√ªre m√©duse", "Infection"],
                        correct: 1,
                        explanation: "CIGUATERA : intoxication poissons mers chaudes. Sympt√¥mes : vomissements, diarrh√©e, perturbation sensibilit√© thermique."
                    },
                    {
                        question: "Quels sont les 5 param√®tres d√©terminants √† recueillir ?",
                        answers: ["Nom, √¢ge, lieu, date, heure", "Individu, Produit, Circonstances, Quantit√©, Temps", "Sympt√¥mes, dur√©e, intensit√©, fr√©quence, √©volution", "ATCD, allergies, traitements, poids, taille"],
                        correct: 1,
                        explanation: "5 param√®tres : 1) Individu, 2) Produit, 3) Circonstances, 4) Quantit√©, 5) Temps."
                    },
                    {
                        question: "Faut-il donner du lait comme antidote ?",
                        answers: ["Oui, toujours", "NON, NE PAS donner de lait", "Seulement pour acides", "Uniquement enfants"],
                        correct: 1,
                        explanation: "NE PAS donner de lait comme antidote ! Id√©e re√ßue dangereuse."
                    },
                    {
                        question: "Que faire sur envenimation (morsure serpent) ?",
                        answers: ["Garrot, incision, aspiration", "NE PAS faire garrot/incision/aspiration", "Faire vomir", "Donner alcool"],
                        correct: 1,
                        explanation: "NE PAS faire garrot, incision ou aspiration sur envenimation."
                    }
                ]
            },
            police: {
                title: "Police Nationale",
                icon: "üëÆ",
                description: "Organisation, missions et responsabilit√©s juridiques",
                questions: [
                    {
                        question: "Quel est le num√©ro d'urgence de la Police ?",
                        answers: ["15", "17", "18", "112"],
                        correct: 1,
                        explanation: "17 (partag√© avec Gendarmerie) pour Police Nationale."
                    },
                    {
                        question: "Combien d'agents dans la Police Nationale ?",
                        answers: ["50 000", "150 000", "200 000", "300 000"],
                        correct: 1,
                        explanation: "150 000 agents, principalement en zones urbaines."
                    },
                    {
                        question: "Qui dirige la Police Nationale ?",
                        answers: ["Le Ministre", "Directeur G√©n√©ral Police Nationale (DGPN)", "Le Pr√©fet", "Le Pr√©sident"],
                        correct: 1,
                        explanation: "DGPN = Directeur G√©n√©ral de la Police Nationale."
                    },
                    {
                        question: "Que signifie OPJ ?",
                        answers: ["Op√©rateur Police Judiciaire", "Officier de Police Judiciaire", "Organisation Police Justice", "Office Police Juridique"],
                        correct: 1,
                        explanation: "OPJ = Officier de Police Judiciaire (Commissaires, Officiers, certains Gardiens)."
                    },
                    {
                        question: "Que signifie APJ ?",
                        answers: ["Adjoint Police Justice", "Agent de Police Judiciaire", "Assistant Police Juridique", "Aide Police Judiciaire"],
                        correct: 1,
                        explanation: "APJ = Agent de Police Judiciaire (certains Gardiens de la Paix)."
                    },
                    {
                        question: "Que fait la DCPJ ?",
                        answers: ["S√©curit√© routi√®re", "Lutte criminalit√© organis√©e, terrorisme, cyber", "Contr√¥le fronti√®res", "Ordre public"],
                        correct: 1,
                        explanation: "DCPJ = lutte contre criminalit√© organis√©e, terrorisme, cybercriminalit√©, trafics."
                    },
                    {
                        question: "Que fait la DCSP ?",
                        answers: ["Criminalit√© organis√©e", "Police secours (17), s√©curit√© routi√®re, renseignement", "Fronti√®res", "CRS"],
                        correct: 1,
                        explanation: "DCSP = Police secours (17), s√©curit√© routi√®re, renseignement territorial."
                    },
                    {
                        question: "Que signifie RAID ?",
                        answers: ["R√©ponse Assistance Intervention D√©fense", "Recherche Assistance Intervention Difficult√©", "Intervention crises majeures, terrorisme, otages", "Rien, c'est juste un nom"],
                        correct: 2,
                        explanation: "RAID = unit√© d'√©lite pour intervention crises majeures, terrorisme, prises d'otages."
                    },
                    {
                        question: "Quels sont les 2 r√¥les de la Police sur intervention ?",
                        answers: ["Soigner et transporter", "PROT√âGER (admin) et RECHERCHER CAUSES (judiciaire)", "Informer et pr√©venir", "Surveiller et arr√™ter"],
                        correct: 1,
                        explanation: "1) PROT√âGER (porter secours, faciliter secours) 2) RECHERCHER CAUSES (traces, infractions)."
                    },
                    {
                        question: "Combien d'ann√©es pour non-assistance personne en danger ?",
                        answers: ["2 ans", "5 ans", "7 ans", "10 ans"],
                        correct: 1,
                        explanation: "5 ans + 75 000‚Ç¨ (standard), 7 ans + 100 000‚Ç¨ si mineur <15 ans."
                    },
                    {
                        question: "Quels sont les 3 types de responsabilit√©s ?",
                        answers: ["Civile, Criminelle, Administrative", "P√âNALE, CIVILE, ADMINISTRATIVE", "L√©gale, Morale, √âthique", "Judiciaire, Polici√®re, M√©dicale"],
                        correct: 1,
                        explanation: "1) P√âNALE (infractions), 2) CIVILE (pr√©judice victime), 3) ADMINISTRATIVE (manquement disciplinaire)."
                    },
                    {
                        question: "Peine pour homicide involontaire ?",
                        answers: ["1 an + 15 000‚Ç¨", "3 ans + 45 000‚Ç¨", "5 ans + 75 000‚Ç¨", "7 ans + 100 000‚Ç¨"],
                        correct: 1,
                        explanation: "Homicide involontaire (Art 221-6) : 3 ans + 45 000‚Ç¨."
                    },
                    {
                        question: "Peine pour ITT > 3 mois involontaire ?",
                        answers: ["1 500‚Ç¨", "2 ans + 30 000‚Ç¨", "3 ans + 45 000‚Ç¨", "5 ans + 75 000‚Ç¨"],
                        correct: 1,
                        explanation: "ITT > 3 mois (Art 222-19) : 2 ans + 30 000‚Ç¨."
                    },
                    {
                        question: "Affaire Naomi Musenga (2017) ?",
                        answers: ["AVC", "TS Parac√©tamol, op√©ratrice railleuse ‚Üí d√©c√®s", "Infarctus", "Chute"],
                        correct: 1,
                        explanation: "TS Parac√©tamol, op√©ratrice SAMU railleuse ('vous allez mourir un jour') ‚Üí d√©c√®s. Importance bienveillance."
                    },
                    {
                        question: "Que signifie DGSI ?",
                        answers: ["Direction Gendarmerie S√©curit√©", "Direction G√©n√©rale S√©curit√© Int√©rieure", "Dispositif G√©n√©ral S√©curit√©", "Direction Gestion Secours"],
                        correct: 1,
                        explanation: "DGSI = Direction G√©n√©rale S√©curit√© Int√©rieure (renseignement, contre-terrorisme, contre-espionnage)."
                    },
                    {
                        question: "Que fait la DCPAF ?",
                        answers: ["CRS", "Contr√¥le fronti√®res, immigration, s√ªret√© a√©roportuaire", "Criminalit√©", "Police secours"],
                        correct: 1,
                        explanation: "DCPAF = Contr√¥le aux fronti√®res, lutte immigration irr√©guli√®re, s√ªret√© a√©roportuaire."
                    },
                    {
                        question: "Combien de laboratoires de police scientifique ?",
                        answers: ["3", "5", "7", "10"],
                        correct: 1,
                        explanation: "SCPTS = Police technique et scientifique avec 5 laboratoires."
                    },
                    {
                        question: "Affaire Jo√´l Richart (2019) ?",
                        answers: ["AVC", "Occlusion intestinale, pas de transport ‚Üí d√©c√®s", "Infarctus", "Parac√©tamol"],
                        correct: 1,
                        explanation: "Occlusion intestinale, pas de transport envoy√© ‚Üí d√©c√®s. Importance √©valuation correcte."
                    }
                ]
            },
            cic: {
                title: "CIC - Centre Information et Commandement",
                icon: "üì°",
                description: "Organe op√©rationnel principal Police",
                questions: [
                    {
                        question: "O√π est localis√© le CIC ?",
                        answers: ["Pr√©fecture", "H√¥tel de police d√©partemental", "Mairie", "Commissariat central"],
                        correct: 1,
                        explanation: "CIC = organe op√©rationnel principal Police, localis√© √† l'h√¥tel de police d√©partemental."
                    },
                    {
                        question: "Combien d'appels/jour au CIC Marseille actuellement ?",
                        answers: ["500-1000", "1500-3000", "3000-5000", "5000-10000"],
                        correct: 1,
                        explanation: "1500 √† 3000 appels/jour actuellement (2200 avant Covid)."
                    },
                    {
                        question: "Quel est le taux de perte d'appels CIC ?",
                        answers: ["5%", "10-14% diffusion + 10-14% d√©crochage", "20%", "30%"],
                        correct: 1,
                        explanation: "10-14% √† la diffusion message + 10-14% au temps de d√©crochage."
                    },
                    {
                        question: "Combien d'op√©rateurs CIC en simultan√© ?",
                        answers: ["1-2", "3-7", "8-12", "13-20"],
                        correct: 1,
                        explanation: "3 √† 7 op√©rateurs en simultan√© selon activit√©."
                    },
                    {
                        question: "Que signifie BAC ?",
                        answers: ["Brigade Aide Civile", "Brigade Anti-Criminalit√©", "Bureau Accueil Citoyen", "Brigade Assistance Contr√¥le"],
                        correct: 1,
                        explanation: "BAC = Brigade Anti-Criminalit√© (banditisme, d√©linquance voie publique)."
                    },
                    {
                        question: "Que signifie BST ?",
                        answers: ["Brigade S√©curit√© Totale", "Brigades Sp√©cialis√©es Terrain", "Bureau Surveillance Territoire", "Brigade Secours Tactique"],
                        correct: 1,
                        explanation: "BST = Brigades Sp√©cialis√©es Terrain (s√©curisation territoire, ex: 3e arr. Marseille)."
                    },
                    {
                        question: "Que signifie GSP ?",
                        answers: ["Gendarmerie S√©curit√© Publique", "Groupe S√©curit√© Proximit√©", "Gardiens Surveillance Publique", "Gestion Secours Police"],
                        correct: 1,
                        explanation: "GSP = Groupe S√©curit√© Proximit√© (fin soir√©e, pr√©vention diff√©rends)."
                    },
                    {
                        question: "Combien de temps conservation vid√©os CSU sans enqu√™te ?",
                        answers: ["3 jours", "10 jours", "1 mois", "2 mois"],
                        correct: 1,
                        explanation: "Consultation 10 jours sans validation, conservation totale 2 mois avec enqu√™te."
                    },
                    {
                        question: "Que signifie MOSOVO ?",
                        answers: ["Mobile Surveillance Op√©rations", "Salle Maintien Ordre", "Module S√©curit√© Ville", "Monitoring S√©curit√©"],
                        correct: 1,
                        explanation: "Salle MOSOVO = Maintien Ordre avec visioconf√©rence, liaison tous services."
                    },
                    {
                        question: "Que signifie RAMSES ?",
                        answers: ["R√©seau Alerte Mobile", "Syst√®me alarme reli√© CIC", "Radio Mobile S√©curit√©", "Rien, nom de code"],
                        correct: 1,
                        explanation: "RAMSES = syst√®me d'alarme reli√© au CIC, responsabilit√© directeur CIC."
                    },
                    {
                        question: "Que signifie P√âGASE ?",
                        answers: ["Programme √âlectronique", "Logiciel centralisation infos, gestion alertes", "Plateforme √âchange", "Rien"],
                        correct: 1,
                        explanation: "P√âGASE = logiciel centralisation informations, gestion alertes par priorit√©."
                    },
                    {
                        question: "Que signifie TCHAP ?",
                        answers: ["T√©l√©phone Chiffr√©", "Messagerie s√©curis√©e MI serveurs fran√ßais", "T√©lex Police", "Radio crypt√©e"],
                        correct: 1,
                        explanation: "TCHAP = messagerie communications sensibles, serveurs fran√ßais s√©curis√©s, d√©ploy√©e par MI."
                    }
                ]
            },
            sdis: {
                title: "SDIS et CODIS",
                icon: "üöí",
                description: "Service d√©partemental incendie et centre op√©rationnel",
                questions: [
                    {
                        question: "Que signifie SDIS ?",
                        answers: ["Secours D√©partemental Incendie Secours", "Service D√©partemental Incendie et Secours", "Structure D√©fense Incendie S√©curit√©", "Syst√®me D√©partemental Intervention Secours"],
                        correct: 1,
                        explanation: "SDIS = Service D√©partemental d'Incendie et de Secours."
                    },
                    {
                        question: "Quel est le statut juridique du SDIS ?",
                        answers: ["Service de l'√âtat", "√âtablissement public avec personnalit√© juridique et autonomie financi√®re", "Association", "Service municipal"],
                        correct: 1,
                        explanation: "EPA = √âtablissement Public Administratif avec personnalit√© juridique et autonomie financi√®re."
                    },
                    {
                        question: "Combien d'interventions/an au SDIS 13 ?",
                        answers: ["50 000", "138 000", "200 000", "300 000"],
                        correct: 1,
                        explanation: "138 000 interventions/an au SDIS 13."
                    },
                    {
                        question: "Quel pourcentage de secours √† personne ?",
                        answers: ["50%", "76%", "85%", "90%"],
                        correct: 1,
                        explanation: "76% secours √† personne (dont 7500 carences)."
                    },
                    {
                        question: "Combien de CIS au SDIS 13 ?",
                        answers: ["30", "62", "100", "150"],
                        correct: 1,
                        explanation: "62 CIS (Centres d'Incendie et de Secours) + 4 postes avanc√©s."
                    },
                    {
                        question: "Que signifie SPP ?",
                        answers: ["Service Public Pompiers", "Sapeur-Pompier Professionnel", "Secours Premier Plan", "S√©curit√© Publique Pompiers"],
                        correct: 1,
                        explanation: "SPP = Sapeur-Pompier Professionnel (1300 au SDIS 13)."
                    },
                    {
                        question: "Que signifie SPV ?",
                        answers: ["Service Public Volontaire", "Sapeur-Pompier Volontaire", "Secours Premier Venu", "S√©curit√© Publique Ville"],
                        correct: 1,
                        explanation: "SPV = Sapeur-Pompier Volontaire (4000 au SDIS 13)."
                    },
                    {
                        question: "Combien de personnes au SDIS 13 ?",
                        answers: ["2000", "6000", "10000", "15000"],
                        correct: 1,
                        explanation: "6000 personnes : 1300 SPP, 4000 SPV, 400 AATS (administratifs/techniques)."
                    },
                    {
                        question: "Que signifie CODIS ?",
                        answers: ["Coordination Op√©rationnelle", "Centre Op√©rationnel D√©partemental Incendie Secours", "Commandement Op√©rations", "Centre Organisation"],
                        correct: 1,
                        explanation: "CODIS = Centre Op√©rationnel D√©partemental d'Incendie et de Secours."
                    },
                    {
                        question: "Combien d'op√©rateurs CODIS en POJ ?",
                        answers: ["10", "17", "25", "30"],
                        correct: 1,
                        explanation: "POJ : 17 op√©rateurs, PON : 15 op√©rateurs."
                    },
                    {
                        question: "Que signifie CTA ?",
                        answers: ["Coordination T√©l√©phonique", "Centre Traitement Alertes", "Cellule Transmission", "Centre Technique"],
                        correct: 1,
                        explanation: "CTA = Centre de Traitement des Alertes (appels 18)."
                    },
                    {
                        question: "Quel outil pour la g√©olocalisation au CODIS ?",
                        answers: ["GPS", "SIG", "GEOTRACE", "LOCALMAP"],
                        correct: 1,
                        explanation: "SIG = Syst√®me Information G√©ographique pour localisation."
                    },
                    {
                        question: "Que signifie PREDICT ?",
                        answers: ["Pr√©vision m√©t√©o", "Analyse hydrom√©t√©o", "Pr√©diction incendies", "Programme d√©tection"],
                        correct: 1,
                        explanation: "PREDICT = outil d'analyse hydrom√©t√©orologique."
                    },
                    {
                        question: "Combien de cam√©ras de lev√©e de doute au CODIS ?",
                        answers: ["5", "20", "50", "100"],
                        correct: 1,
                        explanation: "20 cam√©ras de lev√©e de doute au CODIS."
                    },
                    {
                        question: "Que signifie BMPM ?",
                        answers: ["Brigade Maritime Pompiers", "Bataillon de Marins-Pompiers de Marseille", "Bureau Municipal Pompiers", "Brigade Mobile Pompiers"],
                        correct: 1,
                        explanation: "BMPM = Bataillon de Marins-Pompiers de Marseille (particularit√© : Marseille d√©pend du BMPM, pas du SDIS)."
                    }
                ]
            },
            smur: {
                title: "SMUR et Ambulanciers",
                icon: "üöë",
                description: "Historique, r√©glementation, missions et moyens",
                questions: [
                    {
                        question: "Qui a cr√©√© les premi√®res ambulances volantes en 1794 ?",
                        answers: ["Napol√©on", "Dominique Larrey", "Pasteur", "Laennec"],
                        correct: 1,
                        explanation: "1794 : Dominique Larrey cr√©e les premi√®res 'ambulances volantes'."
                    },
                    {
                        question: "Depuis quelle ann√©e existe le DEA ?",
                        answers: ["1970", "2006-2022", "1990", "2000"],
                        correct: 1,
                        explanation: "DEA (Dipl√¥me d'√âtat Ambulancier) : 2006-2022."
                    },
                    {
                        question: "Que signifie ARS ?",
                        answers: ["Association R√©gionale Sant√©", "Agence R√©gionale de Sant√©", "Administration R√©seau Soins", "Autorit√© R√©gulation Sanitaire"],
                        correct: 1,
                        explanation: "ARS = Agence R√©gionale de Sant√© (organisme tutelle ambulanciers)."
                    },
                    {
                        question: "Que signifie VSL ?",
                        answers: ["V√©hicule Sanitaire L√©ger", "Voiture Sant√© L√©g√®re", "V√©hicule Soins L√©gers", "Voiture Sanitaire Longue"],
                        correct: 1,
                        explanation: "VSL = V√©hicule Sanitaire L√©ger (Type D, max 3 patients assis)."
                    },
                    {
                        question: "Type d'ambulance pour urgence ?",
                        answers: ["Type A", "Type B/C (ASSU)", "Type D", "Type E"],
                        correct: 1,
                        explanation: "Type B/C = Ambulance de Soins et Secours d'Urgence (ASSU)."
                    },
                    {
                        question: "Formation ambulancier SMUR ?",
                        answers: ["3 mois", "ADE : IFA 6 mois + FAE 1 mois", "1 an", "2 ans"],
                        correct: 1,
                        explanation: "ADE (Ambulancier Dipl√¥m√© √âtat) : IFA 6 mois + FAE 1 mois + Permis PL + stage conduite rapide."
                    },
                    {
                        question: "Que signifie AES ?",
                        answers: ["Accident Exposition Sanguine", "Accident Exposition Sang", "Alerte Exposition S√©curit√©", "Accident √âmission Sonore"],
                        correct: 1,
                        explanation: "AES = Accidents d'Exposition au Sang (risque m√©tier ambulancier)."
                    },
                    {
                        question: "Que signifie UMAC (ECMO) ?",
                        answers: ["Urgence Mobile", "Oxyg√©nation sang extracorporelle", "Unit√© Mobile", "Urgence M√©dicale"],
                        correct: 1,
                        explanation: "UMAC (ECMO) = mission transport sp√©cial avec oxyg√©nation sang extracorporelle."
                    },
                    {
                        question: "Poids max transport bariatrique ?",
                        answers: ["150 kg", "300 kg", "500 kg", "Pas de limite"],
                        correct: 1,
                        explanation: "Transport bariatrique : max 300 kg."
                    },
                    {
                        question: "Combien d'ann√©es √©tudes m√©decin SMUR ?",
                        answers: ["8 ans", "10 ans + DESC", "12 ans", "15 ans"],
                        correct: 1,
                        explanation: "M√©decin : Fac m√©decine 10 ans + DESC depuis 2004."
                    },
                    {
                        question: "Formation minimale IDE SMUR ?",
                        answers: ["Dipl√¥me seul", "IFSI 3 ans + 2 ans r√©a/urgences minimum", "1 an urgences", "6 mois stage"],
                        correct: 1,
                        explanation: "IDE : IFSI 3 ans + minimum 2 ans en r√©animation/urgences."
                    },
                    {
                        question: "Que signifie VRM ?",
                        answers: ["Voiture Rapide M√©dicale", "V√©hicule Radio M√©dicalis√©", "V√©hicule R√©animation Mobile", "Voiture R√©gulation M√©dicale"],
                        correct: 1,
                        explanation: "VRM = V√©hicule Radio M√©dicalis√© (vecteur SMUR)."
                    },
                    {
                        question: "Combien de secouristes dans un VSAV ?",
                        answers: ["2", "3", "4", "5"],
                        correct: 1,
                        explanation: "VSAV = 3 secouristes (BMPM/SP, voie publique + urgences vitales)."
                    },
                    {
                        question: "Combien d'ambulanciers dans ambulance priv√©e ?",
                        answers: ["1", "2", "3", "4"],
                        correct: 1,
                        explanation: "Ambulances priv√©es : 2 ambulanciers, garde C15, pathologies b√©nignes."
                    },
                    {
                        question: "Que signifie PMA ?",
                        answers: ["Poste M√©dical Avanc√©", "Premier Moyen Ambulance", "Point Mobile Assistance", "Plateforme M√©dicale"],
                        correct: 1,
                        explanation: "PMA = Poste M√©dical Avanc√© (SSE - ARM au secr√©tariat entr√©e/sortie)."
                    },
                    {
                        question: "Que signifie SSE ?",
                        answers: ["Secours Sanitaire √âtendu", "Situation Sanitaire Exceptionnelle", "Service Secours Exceptionnel", "Syst√®me Sanitaire d'Urgence"],
                        correct: 1,
                        explanation: "SSE = Situation Sanitaire Exceptionnelle (PSM2, PMA, UMDH, logistique)."
                    }
                ]
            },
            t2ih: {
                title: "T2IH et UMH-P",
                icon: "üè•",
                description: "Transports infirmiers et unit√©s param√©dicalis√©es",
                questions: [
                    {
                        question: "Que signifie T2IH ?",
                        answers: ["Transport Terrestre Inter-Hospitalier", "Transport Infirmier Inter-Hospitalier", "Transfert Inter-H√¥pitaux", "Transport Intensif"],
                        correct: 1,
                        explanation: "T2IH = Transport Infirmier Inter-Hospitalier (sans m√©decin, comp√©tence IDE)."
                    },
                    {
                        question: "Le T2IH n√©cessite-t-il un m√©decin ?",
                        answers: ["Oui, obligatoire", "Non, comp√©tences IDE suffisantes", "Parfois", "Seulement la nuit"],
                        correct: 1,
                        explanation: "T2IH = transferts ne n√©cessitant PAS prise en charge m√©dicale mais relevant comp√©tences IDE."
                    },
                    {
                        question: "Date du d√©cret encadrant le T2IH ?",
                        answers: ["2000", "22 mai 2006", "2010", "2015"],
                        correct: 1,
                        explanation: "D√©cret 22 mai 2006 : cadre l√©gal du T2IH."
                    },
                    {
                        question: "Composition √©quipe T2IH ?",
                        answers: ["2 m√©decins", "Conducteur titulaire + IDE", "2 infirmiers", "M√©decin + ambulancier"],
                        correct: 1,
                        explanation: "√âquipe T2IH : conducteur titulaire + IDE (Art R.4311-7)."
                    },
                    {
                        question: "Sous quelle autorit√© le T2IH ?",
                        answers: ["Directeur h√¥pital", "M√©decin responsable structure m√©decine urgence", "Chef SAMU", "Pr√©fet"],
                        correct: 1,
                        explanation: "Sous autorit√© du m√©decin responsable de la structure de m√©decine d'urgence."
                    },
                    {
                        question: "Que signifie score Moreno Millan modifi√© ?",
                        answers: ["Score douleur", "Score r√©gulation T2IH (10 crit√®res √ó 2 points)", "Score Glasgow", "Score trauma"],
                        correct: 1,
                        explanation: "Score Moreno Millan modifi√© : 10 crit√®res (h√©modynamique, arythmies, Glasgow, SpO2, √¢ge/sexe/grossesse, monitorage, support th√©rapeutique/ventilatoire, destination, renfort) √ó 2 points."
                    },
                    {
                        question: "Que signifie UMH-P ?",
                        answers: ["Urgence Mobile Hospitali√®re", "Unit√© Mobile Hospitali√®re Param√©dicalis√©e", "Unit√© M√©dicale d'Urgence", "Urgence M√©dicale Pr√©hospitali√®re"],
                        correct: 1,
                        explanation: "UMH-P = Unit√© Mobile Hospitali√®re Param√©dicalis√©e (ADE + IDE, sans m√©decin)."
                    },
                    {
                        question: "Rapport BRAUN (ann√©e et recommandation) ?",
                        answers: ["2020, Rec. 15", "2022, Rec. 22", "2023, Rec. 30", "2024, Rec. 10"],
                        correct: 1,
                        explanation: "Rapport BRAUN 2022 (Rec. 22) : √âquipe Param√©dicale M√©decine Urgence en absence m√©decin."
                    },
                    {
                        question: "Qui a la responsabilit√© m√©dicale pour UMH-P ?",
                        answers: ["L'IDE", "M√©decin r√©gulateur SAMU-C15", "L'ambulancier", "Le chef service"],
                        correct: 1,
                        explanation: "Responsabilit√© m√©dicale : m√©decin r√©gulateur SAMU-C15."
                    },
                    {
                        question: "Combien de PSIS pour l'UMH-P ?",
                        answers: ["3", "5", "7", "10"],
                        correct: 1,
                        explanation: "5 PSIS : Allergie, Antalgie, Br√ªlure, Dyspn√©e, Hypoglyc√©mie."
                    },
                    {
                        question: "Quels protocoles P0 pour UMH-P ?",
                        answers: ["Uniquement ACR", "ACR Adulte/Enfant, Accouchement, D√©tresse Resp., √âlectrisation, Noyade", "Tous protocoles SMUR", "Aucun"],
                        correct: 1,
                        explanation: "Protocoles P0 : ACR Adulte/Enfant, Accouchement, D√©tresse Respiratoire, √âlectrisation, Noyade."
                    },
                    {
                        question: "Formation UMH-P au SAMU 13 ?",
                        answers: ["1 jour", "E-learning + 3j CESU + 1j ECOS", "1 semaine", "Pas de formation"],
                        correct: 1,
                        explanation: "E-learning pr√©requis + 3 jours CESU 13 + 1 jour ECOS validation."
                    },
                    {
                        question: "Mise en place UMH-P SAMU 13 ?",
                        answers: ["2024", "2026", "2027", "D√©j√† en place"],
                        correct: 1,
                        explanation: "Mise en place pr√©vue en 2026 au SAMU 13."
                    },
                    {
                        question: "Que signifie PSIS ?",
                        answers: ["Protocole Soins Infirmiers Standards", "Protocole de Soins Infirmiers Sp√©cifiques", "Proc√©dure Sanitaire", "Programme Soins"],
                        correct: 1,
                        explanation: "PSIS = Protocole de Soins Infirmiers Sp√©cifiques."
                    }
                ]
            },
            coz: {
                title: "Centre Op√©rationnel Zonal",
                icon: "üöÅ",
                description: "Zone Sud, CeZOC, COZ et moyens Dragon",
                questions: [
                    {
                        question: "Combien de zones de d√©fense en France m√©tropolitaine ?",
                        answers: ["5", "7", "10", "12"],
                        correct: 1,
                        explanation: "7 zones de d√©fense en France m√©tropolitaine + 5 outre-mer."
                    },
                    {
                        question: "Combien de d√©partements dans la Zone Sud ?",
                        answers: ["15", "21", "30", "40"],
                        correct: 1,
                        explanation: "Zone Sud : 21 d√©partements (2 r√©gions PACA + Occitanie + Corse)."
                    },
                    {
                        question: "Superficie Zone Sud ?",
                        answers: ["50 000 km¬≤", "112 804 km¬≤ (20% territoire)", "150 000 km¬≤", "200 000 km¬≤"],
                        correct: 1,
                        explanation: "112 804 km¬≤ = 20% du territoire m√©tropolitain."
                    },
                    {
                        question: "Qui est le Pr√©fet de Zone Sud ?",
                        answers: ["Pr√©fet Var", "Pr√©fet Bouches-du-Rh√¥ne, Pr√©fet r√©gion PACA", "Pr√©fet H√©rault", "Pr√©fet Alpes-Maritimes"],
                        correct: 1,
                        explanation: "Pr√©fet zone = Pr√©fet des Bouches-du-Rh√¥ne, Pr√©fet de la r√©gion PACA."
                    },
                    {
                        question: "Quand a √©t√© inaugur√© le CeZOC ?",
                        answers: ["2010", "Janvier 2017", "2020", "2025"],
                        correct: 1,
                        explanation: "CeZOC inaugur√© en janvier 2017."
                    },
                    {
                        question: "Que signifie CeZOC ?",
                        answers: ["Centre Zone Coordination", "Centre Zonal Op√©rationnel de Crise", "Cellule Zone Op√©rationnelle", "Centre Zone Organisation"],
                        correct: 1,
                        explanation: "CeZOC = Centre Zonal Op√©rationnel de Crise (Interminist√©riel, Int√©gr√©, Op√©rationnel)."
                    },
                    {
                        question: "Le CeZOC a 3 caract√©ristiques uniques, lesquelles ?",
                        answers: ["National, R√©gional, Local", "Interminist√©riel, Int√©gr√©, Op√©rationnel", "Civil, Militaire, M√©dical", "Terrestre, A√©rien, Maritime"],
                        correct: 1,
                        explanation: "3 caract√©ristiques : Interminist√©riel, Int√©gr√©, Op√©rationnel."
                    },
                    {
                        question: "Composition COZ en veille ?",
                        answers: ["5 personnes", "1 officier permanence + 1 op√©rateur + 5 cadres astreinte", "10 personnes", "20 personnes"],
                        correct: 1,
                        explanation: "COZ veille : 1 officier permanence + 1 op√©rateur s√©curit√© civile + 5 cadres astreinte."
                    },
                    {
                        question: "Type d'h√©licopt√®re Dragon ?",
                        answers: ["Puma", "EC 145 / H145 D3", "Alouette", "Super Frelon"],
                        correct: 1,
                        explanation: "Dragon = EC 145 / H145 D3 (h√©licopt√®re s√©curit√© civile)."
                    },
                    {
                        question: "Autonomie de vol du Dragon ?",
                        answers: ["1h", "2h15", "3h", "4h"],
                        correct: 1,
                        explanation: "Autonomie vol : 2h15."
                    },
                    {
                        question: "Vitesse maximale Dragon ?",
                        answers: ["180 km/h", "245 km/h", "300 km/h", "350 km/h"],
                        correct: 1,
                        explanation: "Vitesse : 245 km/h."
                    },
                    {
                        question: "D√©lai d√©collage Dragon de jour ?",
                        answers: ["5 min", "10 min", "20 min", "30 min"],
                        correct: 1,
                        explanation: "Jour : ouverture base 9h, d√©collage 10 min."
                    },
                    {
                        question: "D√©lai d√©collage Dragon de nuit ?",
                        answers: ["10 min", "30 min √† 1h", "2h", "Pas de vol"],
                        correct: 1,
                        explanation: "Nuit : astreinte, d√©lai 30 min √† 1h (apr√®s nuit a√©ronautique)."
                    },
                    {
                        question: "Qu'est-ce que la nuit a√©ronautique ?",
                        answers: ["22h-6h", "Centre soleil 6¬∞ sous horizon", "Coucher-lever soleil", "20h-8h"],
                        correct: 1,
                        explanation: "Nuit a√©ronautique = centre soleil 6¬∞ sous horizon (v√©rifiable sur http://olravet.fr/terrains.php)."
                    },
                    {
                        question: "Qui vole la nuit en France ?",
                        answers: ["Personne", "Tous Dragons/Choucas + H√©li-SMUR 31,34,13", "Seulement militaires", "Uniquement Dragons"],
                        correct: 1,
                        explanation: "Tous Dragons & Choucas + H√©li-SMUR 31, 34, 13 peuvent voler de nuit."
                    },
                    {
                        question: "Avant d'appeler COZ, que v√©rifier ?",
                        answers: ["Rien", "Pertinence, effet, contact SP au sol?, CODIS pr√©venu?", "Seulement m√©t√©o", "Juste disponibilit√©"],
                        correct: 1,
                        explanation: "V√©rifier : 1) Pertinence demande, 2) Effet √† obtenir, 3) Contact SP engag√© au sol?, 4) Si oui, CODIS pr√©venu?"
                    },
                    {
                        question: "Que signifie ACR en urgence ?",
                        answers: ["Accident Circulation Routi√®re", "Arr√™t Cardio-Respiratoire", "Alerte Crise R√©gionale", "Accident Circulation Route"],
                        correct: 1,
                        explanation: "ACR = Arr√™t Cardio-Respiratoire (exemple intervention urgente n√©cessitant Dragon)."
                    },
                    {
                        question: "Que signifie AVP ?",
                        answers: ["Alerte Victime Police", "Accident de la Voie Publique", "Assistance Victime Prioritaire", "Accident V√©hicule Personnel"],
                        correct: 1,
                        explanation: "AVP = Accident de la Voie Publique."
                    }
                ]
            },
            orsec: {
                title: "ORSEC Maritime",
                icon: "üåä",
                description: "Organisation r√©ponse s√©curit√© civile en mer",
                questions: [
                    {
                        question: "Que signifie ORSEC ?",
                        answers: ["Organisation R√©gionale Secours", "Organisation R√©ponse S√©curit√© Civile", "Organisation R√©seau Secours", "Organisation R√©gulation S√©curit√©"],
                        correct: 1,
                        explanation: "ORSEC = Organisation de la R√©ponse de S√©curit√© Civile."
                    },
                    {
                        question: "Qui coordonne ORSEC Maritime ?",
                        answers: ["Le Pr√©fet de d√©partement", "Le Pr√©fet Maritime (DOS)", "Le CROSS", "Le Ministre"],
                        correct: 1,
                        explanation: "Pr√©fet Maritime = Directeur des Op√©rations de Secours (DOS) pour ORSEC Maritime."
                    },
                    {
                        question: "Combien de volets ORSEC Maritime ?",
                        answers: ["3", "5", "7", "10"],
                        correct: 1,
                        explanation: "5 volets : SAR, POLMAR, ANED, CIRC, NUCMAR."
                    },
                    {
                        question: "Que signifie SAR ?",
                        answers: ["Secours Assistance Rapide", "Search And Rescue (Recherche Sauvetage)", "Service Alerte Rapide", "S√©curit√© Assistance Route"],
                        correct: 1,
                        explanation: "SAR = Search And Rescue (Recherche et Sauvetage)."
                    },
                    {
                        question: "Que signifie POLMAR ?",
                        answers: ["Police Maritime", "Pollution Maritime", "Politique Maritime", "Pompage Maritime"],
                        correct: 1,
                        explanation: "POLMAR = volet Pollution Maritime."
                    },
                    {
                        question: "Que signifie ANED ?",
                        answers: ["Alerte Navire", "Assistance Navire En Difficult√©", "Accueil Navires", "Alerte Navigation"],
                        correct: 1,
                        explanation: "ANED = Assistance Navire En Difficult√©."
                    },
                    {
                        question: "Combien de niveaux de r√©ponse ORSEC ?",
                        answers: ["2", "3", "4", "5"],
                        correct: 1,
                        explanation: "3 niveaux selon gravit√© : 1) Coordination simple, 2) EGI + √©quipe restreinte, 3) EGI renforc√©e + √©quipe compl√®te."
                    },
                    {
                        question: "Quelle est la PRIORIT√â 1 ORSEC Maritime ?",
                        answers: ["Environnement", "S√©curit√© des personnes", "Navire", "Circulation"],
                        correct: 1,
                        explanation: "ORDRE IMP√âRATIF : 1) Personnes, 2) Sant√© publique, 3) Environnement, 4) Navire/biens, 5) Libre circulation."
                    },
                    {
                        question: "Quelle est la PRIORIT√â 2 ?",
                        answers: ["Environnement", "Sant√© publique populations", "Navire", "Personnes"],
                        correct: 1,
                        explanation: "Priorit√© 2 = Assurer sant√© publique des populations."
                    },
                    {
                        question: "Que signifie SIDPC ?",
                        answers: ["Service Incendie D√©fense", "Service Interminist√©riel D√©fense Protection Civiles", "Syst√®me Information", "Service Intervention"],
                        correct: 1,
                        explanation: "SIDPC = Service Interminist√©riel de D√©fense et de Protection Civiles."
                    },
                    {
                        question: "Que signifie COD ?",
                        answers: ["Coordination Op√©rationnelle", "Centre Op√©rationnel D√©partemental", "Commandement Op√©rations", "Centre Organisation"],
                        correct: 1,
                        explanation: "COD = Centre Op√©rationnel D√©partemental."
                    },
                    {
                        question: "Que font les EEI ?",
                        answers: ["Transport uniquement", "√âvaluation situation navire + intervention si n√©cessaire", "Seulement observation", "Communication"],
                        correct: 1,
                        explanation: "EEI = √âquipes d'√âvaluation et d'Intervention (√©valuer navire difficult√©, intervention si sinistre)."
                    },
                    {
                        question: "Que signifie GPD ?",
                        answers: ["Garde Police D√©partementale", "Groupement Plongeurs D√©mineurs", "Groupe Protection D√©fense", "Garde Pompiers D√©partement"],
                        correct: 1,
                        explanation: "GPD = Groupement de Plongeurs D√©mineurs."
                    },
                    {
                        question: "Que signifie RIAS ?",
                        answers: ["R√©seau Intervention", "Remorqueurs Intervention Assistance Sauvetage", "R√©seau Informatique", "R√©gulation Intervention"],
                        correct: 1,
                        explanation: "RIAS = Remorqueurs d'Intervention, d'Assistance et de Sauvetage."
                    },
                    {
                        question: "Que signifie BSAD ?",
                        answers: ["B√¢timent Sauvetage", "B√¢timent Soutien Assistance D√©pollution", "Base Secours", "Bureau S√©curit√©"],
                        correct: 1,
                        explanation: "BSAD = B√¢timent de Soutien, d'Assistance et de D√©pollution."
                    },
                    {
                        question: "Qui repr√©sente directement le PM et le Gouvernement en mer ?",
                        answers: ["Le CROSS", "Le Pr√©fet Maritime", "Le Commandant de navire", "Le Ministre"],
                        correct: 1,
                        explanation: "Pr√©fet Maritime = repr√©sentant direct du Premier Ministre et du Gouvernement, autorit√© Action √âtat en Mer (AEM)."
                    }
                ]
            }
        };

        // √âtat de l'application
        let currentTheme = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let wrongAnswers = [];
        let shuffledQuestions = [];

        // Fonction pour m√©langer un tableau (algorithme Fisher-Yates)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Initialisation
        function init() {
            displayThemes();
        }

        // Afficher les th√®mes
        function displayThemes() {
            const themeSelection = document.getElementById('themeSelection');
            themeSelection.innerHTML = '';
            
            let delay = 0;
            for (const [key, theme] of Object.entries(quizData)) {
                const card = document.createElement('div');
                card.className = 'theme-card';
                card.style.animationDelay = `${delay}s`;
                card.onclick = () => startQuiz(key);
                
                card.innerHTML = `
                    <div class="theme-count">${theme.questions.length}</div>
                    <div class="theme-card-content">
                        <span class="theme-icon">${theme.icon}</span>
                        <div class="theme-title">${theme.title}</div>
                        <div class="theme-desc">${theme.description}</div>
                    </div>
                `;
                
                themeSelection.appendChild(card);
                delay += 0.1;
            }
        }

        // D√©marrer le quiz
        function startQuiz(themeKey) {
            currentTheme = themeKey;
            currentQuestionIndex = 0;
            userAnswers = [];
            wrongAnswers = [];
            
            // M√©langer les questions
            const theme = quizData[currentTheme];
            shuffledQuestions = shuffleArray(theme.questions.map((q, index) => ({
                ...q,
                originalIndex: index,
                // M√©langer les r√©ponses aussi
                shuffledAnswers: shuffleArray(q.answers.map((answer, answerIndex) => ({
                    text: answer,
                    originalIndex: answerIndex
                })))
            })));
            
            document.getElementById('themeSelection').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            
            displayQuestion();
        }

        // Afficher une question
        function displayQuestion() {
            const theme = quizData[currentTheme];
            const question = shuffledQuestions[currentQuestionIndex];
            const quizContainer = document.getElementById('quizContainer');
            
            quizContainer.innerHTML = `
                <button class="back-btn" onclick="backToThemes()">‚Üê Retour aux th√®mes</button>
                <div class="quiz-header">
                    <div class="quiz-theme">${theme.icon} ${theme.title}</div>
                    <div class="quiz-progress">${currentQuestionIndex + 1} / ${shuffledQuestions.length}</div>
                </div>
                <div class="question-card">
                    <div class="question-text">${question.question}</div>
                    <div class="answers-grid" id="answersGrid">
                        ${question.shuffledAnswers.map((answer, index) => `
                            <button class="answer-btn" onclick="selectAnswer(${index})">${answer.text}</button>
                        `).join('')}
                    </div>
                    <div id="explanationArea"></div>
                    <div class="btn-group hidden" id="navigationBtns">
                        <button class="btn btn-primary" onclick="nextQuestion()">Question suivante ‚Üí</button>
                        <button class="btn btn-outline" onclick="showAnswer()">Afficher la r√©ponse</button>
                    </div>
                </div>
            `;
        }

        // S√©lectionner une r√©ponse
        function selectAnswer(answerIndex) {
            const theme = quizData[currentTheme];
            const question = shuffledQuestions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-btn');
            const explanationArea = document.getElementById('explanationArea');
            const navigationBtns = document.getElementById('navigationBtns');
            
            // R√©cup√©rer l'index original de la r√©ponse s√©lectionn√©e
            const selectedOriginalIndex = question.shuffledAnswers[answerIndex].originalIndex;
            const correctOriginalIndex = question.correct;
            
            // D√©sactiver tous les boutons
            buttons.forEach(btn => btn.disabled = true);
            
            // Trouver quel bouton correspond √† la bonne r√©ponse
            const correctButtonIndex = question.shuffledAnswers.findIndex(
                answer => answer.originalIndex === correctOriginalIndex
            );
            
            // Marquer la bonne et mauvaise r√©ponse
            buttons[correctButtonIndex].classList.add('correct');
            if (selectedOriginalIndex !== correctOriginalIndex) {
                buttons[answerIndex].classList.add('incorrect');
                wrongAnswers.push(currentQuestionIndex);
            }
            
            // Enregistrer la r√©ponse
            userAnswers.push({
                questionIndex: currentQuestionIndex,
                userAnswer: answerIndex,
                correct: selectedOriginalIndex === correctOriginalIndex
            });
            
            // Afficher l'explication
            explanationArea.innerHTML = `
                <div class="explanation">
                    <div class="explanation-title">üí° Explication</div>
                    <div class="explanation-text">${question.explanation}</div>
                </div>
            `;
            
            // Afficher le bouton suivant
            navigationBtns.classList.remove('hidden');
            
            // Si bonne r√©ponse, passer automatiquement apr√®s 2 secondes
            if (selectedOriginalIndex === correctOriginalIndex) {
                setTimeout(() => {
                    nextQuestion();
                }, 2000);
            }
        }

        // Afficher la r√©ponse
        function showAnswer() {
            const theme = quizData[currentTheme];
            const question = shuffledQuestions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-btn');
            const explanationArea = document.getElementById('explanationArea');
            
            // D√©sactiver tous les boutons
            buttons.forEach(btn => btn.disabled = true);
            
            // Trouver quel bouton correspond √† la bonne r√©ponse
            const correctButtonIndex = question.shuffledAnswers.findIndex(
                answer => answer.originalIndex === question.correct
            );
            
            // Marquer la bonne r√©ponse
            buttons[correctButtonIndex].classList.add('correct');
            
            // Enregistrer comme mauvaise r√©ponse
            wrongAnswers.push(currentQuestionIndex);
            userAnswers.push({
                questionIndex: currentQuestionIndex,
                userAnswer: -1,
                correct: false
            });
            
            // Afficher l'explication
            explanationArea.innerHTML = `
                <div class="explanation">
                    <div class="explanation-title">üí° Explication</div>
                    <div class="explanation-text">${question.explanation}</div>
                </div>
            `;
        }

        // Question suivante
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < shuffledQuestions.length) {
                displayQuestion();
            } else {
                displayResults();
            }
        }

        // Afficher les r√©sultats
        function displayResults() {
            const theme = quizData[currentTheme];
            const correctCount = userAnswers.filter(a => a.correct).length;
            const totalQuestions = theme.questions.length;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            
            let message = '';
            if (percentage === 100) {
                message = 'üéâ Parfait ! Vous ma√Ætrisez ce th√®me !';
            } else if (percentage >= 80) {
                message = 'üëè Excellent travail !';
            } else if (percentage >= 60) {
                message = 'üëç Bien jou√© ! Continuez vos efforts.';
            } else {
                message = 'üí™ Continuez √† r√©viser, vous progressez !';
            }
            
            // G√©n√©rer le d√©tail des r√©ponses
            const detailsHTML = userAnswers.map((answer, idx) => {
                const question = shuffledQuestions[answer.questionIndex];
                const userAnswerText = answer.userAnswer >= 0 ? question.answers[answer.userAnswer] : 'Non r√©pondu';
                const correctAnswerText = question.answers[question.correct];
                const isCorrect = answer.correct;
                
                return `
                    <div class="question-review ${isCorrect ? 'correct-review' : 'incorrect-review'}">
                        <div class="review-header">
                            <span class="review-number">Question ${idx + 1}</span>
                            <span class="review-status">${isCorrect ? '‚úÖ Correct' : '‚ùå Incorrect'}</span>
                        </div>
                        <div class="review-question">${question.question}</div>
                        ${!isCorrect ? `
                            <div class="review-answer user-answer">
                                <strong>Votre r√©ponse :</strong> ${userAnswerText}
                            </div>
                            <div class="review-answer correct-answer">
                                <strong>Bonne r√©ponse :</strong> ${correctAnswerText}
                            </div>
                        ` : `
                            <div class="review-answer correct-answer">
                                <strong>Votre r√©ponse :</strong> ${correctAnswerText}
                            </div>
                        `}
                        <div class="review-explanation">
                            <strong>üí° Explication :</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            }).join('');
            
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = `
                <div class="results-container">
                    <div class="quiz-theme">${theme.icon} ${theme.title}</div>
                    <div class="results-score">${percentage}%</div>
                    <div class="results-message">${message}</div>
                    
                    <div class="results-details">
                        <div class="stat-card correct">
                            <div class="stat-value">${correctCount}</div>
                            <div class="stat-label">Bonnes r√©ponses</div>
                        </div>
                        <div class="stat-card incorrect">
                            <div class="stat-value">${totalQuestions - correctCount}</div>
                            <div class="stat-label">Erreurs</div>
                        </div>
                        <div class="stat-card total">
                            <div class="stat-value">${totalQuestions}</div>
                            <div class="stat-label">Total</div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Tout refaire</button>
                        ${wrongAnswers.length > 0 ? 
                            `<button class="btn btn-secondary" onclick="retryWrong()">‚ùå Refaire les erreurs</button>` : 
                            ''}
                        <button class="btn btn-outline" onclick="backToThemes()">‚Üê Choisir un autre th√®me</button>
                    </div>
                    
                    <div class="details-section">
                        <h2 style="text-align: center; margin: 2rem 0; color: var(--primary-light);">üìã R√©capitulatif d√©taill√©</h2>
                        ${detailsHTML}
                    </div>
                </div>
            `;
        }

        // Recommencer le quiz
        function restartQuiz() {
            // Re-m√©langer les questions
            const theme = quizData[currentTheme];
            shuffledQuestions = shuffleArray(theme.questions.map((q, index) => ({
                ...q,
                originalIndex: index,
                shuffledAnswers: shuffleArray(q.answers.map((answer, answerIndex) => ({
                    text: answer,
                    originalIndex: answerIndex
                })))
            })));
            
            currentQuestionIndex = 0;
            userAnswers = [];
            wrongAnswers = [];
            displayQuestion();
        }

        // Refaire les mauvaises r√©ponses
        function retryWrong() {
            const theme = quizData[currentTheme];
            const wrongQuestions = wrongAnswers.map(index => ({...theme.questions[index], originalIndex: index}));
            
            // Cr√©er un quiz temporaire avec les mauvaises r√©ponses
            const tempTheme = {
                ...theme,
                questions: wrongQuestions
            };
            
            quizData['temp_retry'] = tempTheme;
            currentTheme = 'temp_retry';
            currentQuestionIndex = 0;
            userAnswers = [];
            wrongAnswers = [];
            
            displayQuestion();
        }

        // Retour aux th√®mes
        function backToThemes() {
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('themeSelection').classList.remove('hidden');
            currentTheme = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            wrongAnswers = [];
        }

        // Lancer l'application
        init();
    </script>
</body>
</html>